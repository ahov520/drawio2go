# 设置页面优化任务规划 v0.2

## 项目目标
优化设置页面，使其符合 Material Design 风格和 #3388BB 主题设置，采用 HeroUI v3 组件库，提升用户体验和可扩展性。

## 设计理念
- **现代扁平化设计**：Material Design 风格，#3388BB 蓝色主题
- **卡片式布局**：清晰的视觉层次，易于扫描
- **统一组件体系**：全面使用 HeroUI v3 组件
- **平滑动画效果**：所有交互都有流畅的过渡
- **高效搜索功能**：快速定位设置项

## 技术要求
1. ✅ 使用 HeroUI v3 (Alpha) 组件库
2. ✅ 遵循 Material Design 设计规范
3. ✅ 统一使用 #3388BB 主题色
4. ✅ 保持现有功能完整性（浮动按钮、弹窗、变更检测）
5. 🚀 **新增**：卡片式分组布局
6. 🚀 **新增**：实时搜索过滤功能
7. 🚀 **新增**：RadioGroup 替代原生 select
8. 🚀 **新增**：平滑动画过渡效果

## 里程碑总览

| 里程碑 | 文件 | 预计耗时 | 状态 | 依赖 | 核心内容 |
|--------|------|----------|------|------|----------|
| 1. 卡片布局重构 | [milestone-1.md](./milestone-1.md) | 45 分钟 | ⏳ 待开始 | 无 | 使用 Card 组件重构布局 |
| 2. 控件组件化升级 | [milestone-2.md](./milestone-2.md) | 60 分钟 | ⏳ 待开始 | 1 | RadioGroup 替代 select |
| 3. 搜索功能实现 | [milestone-3.md](./milestone-3.md) | 45 分钟 | ⏳ 待开始 | 1, 2 | 实时搜索过滤 |
| 4. 样式优化与动画 | [milestone-4.md](./milestone-4.md) | 30 分钟 | ⏳ 待开始 | 1-3 | 间距、动画、主题色 |
| 5. 集成测试与调优 | [milestone-5.md](./milestone-5.md) | 30 分钟 | ⏳ 待开始 | 1-4 | 完整测试与优化 |

**总预计耗时**：约 3.5 小时

## 推荐执行顺序
```
里程碑 1 → 里程碑 2 → 里程碑 3 → 里程碑 4 → 里程碑 5
```

## 环境要求
- ✅ HeroUI v3 (v3.0.0-alpha.35) 已安装
- ✅ Tailwind CSS v4 已配置
- ✅ React 19 + Next.js 15
- ✅ TypeScript 支持
- 🚀 **新增**：需要使用的 HeroUI 组件：Card, Separator, RadioGroup, TextField, Input, Label, Description

## 核心架构特性

### 🎨 卡片式布局系统
- **视觉分组**：使用 Card 组件包裹不同设置区块
- **清晰层次**：Card.Header + Card.Content 结构
- **统一间距**：24px 卡片间距，16px 设置项间距

### 🔧 组件化控件系统
- **RadioGroup 替代 Select**：更直观的供应商选择
- **原生滑块优化**：增强视觉效果和动画
- **统一 HeroUI 组件**：TextField, Input, Label, Description

### 🔍 智能搜索系统
- **实时过滤**：输入即时过滤设置项
- **多字段匹配**：标题、描述、标签全文搜索
- **视觉反馈**：高亮匹配项，淡出未匹配项

### ✨ 动画与交互
- **平滑过渡**：所有状态变化都有动画
- **主题色统一**：#3388BB 贯穿所有交互元素
- **响应式设计**：适配 300-800px 侧边栏宽度

## 文件修改清单

### 需要修改的文件
1. **`app/components/SettingsSidebar.tsx`** (主要重构)
   - 添加搜索状态管理
   - 重构为卡片式布局
   - 替换 select 为 RadioGroup
   - 优化间距和动画

2. **`app/styles/components/forms.css`** (样式优化)
   - 优化滑块样式
   - 添加搜索框样式
   - 添加高亮效果样式

3. **`app/styles/layout/sidebar.css`** (布局调整)
   - 调整卡片布局样式
   - 优化滚动区域

### 保持不变的部分
- ✅ 浮动操作按钮（保存/取消）
- ✅ 系统提示词编辑弹窗
- ✅ 测试连接功能
- ✅ 文件夹选择功能
- ✅ 变更检测逻辑
- ✅ localStorage 持久化

## 设计亮点

### 🎯 用户体验提升
1. **卡片分组** - 清晰的视觉层次，易于扫描
2. **RadioGroup 选择** - 更直观的供应商选择体验
3. **实时搜索** - 快速定位设置项，提升效率
4. **平滑动画** - 所有交互都有流畅的过渡效果
5. **响应式设计** - 适配不同侧边栏宽度

### 🛠️ 开发者体验
- **组件化设计**：易于维护和扩展
- **类型安全**：完整的 TypeScript 类型定义
- **样式隔离**：CSS 模块化，避免冲突
- **向后兼容**：不影响现有配置数据

## 快速开始

### 开发流程
```bash
# 1. 启动开发服务器
pnpm run dev

# 2. 打开设置侧边栏
# 点击右上角设置图标

# 3. 观察优化效果
# - 卡片式布局
# - 搜索功能
# - RadioGroup 选择
# - 平滑动画
```

### 测试检查点
```bash
# 1. 卡片布局
✓ 文件路径配置卡片
✓ LLM 配置卡片
✓ 卡片间距 24px

# 2. 搜索功能
✓ 输入关键词实时过滤
✓ 高亮匹配项
✓ 淡出未匹配项

# 3. RadioGroup
✓ 供应商选择使用 RadioGroup
✓ 显示详细描述
✓ 选中状态正确

# 4. 动画效果
✓ 卡片展开/收起动画
✓ 控件 hover/focus 动画
✓ 搜索过滤动画
```

## 注意事项

### ⚠️ HeroUI v3 限制
- **无 Slider 组件**：温度和轮次滑块保留原生实现
- **Alpha 版本**：可能存在 API 变化
- **复合组件模式**：必须使用 Card.Root, Card.Header 等

### 🎯 设计权衡
- **RadioGroup 空间占用**：占用更多垂直空间，但提供更好的用户体验
- **搜索功能**：仅过滤显示，不影响实际配置保存
- **动画性能**：使用 CSS 过渡，性能优异

### 📦 兼容性保证
- **配置数据**：完全向后兼容，不影响现有配置
- **功能完整性**：所有现有功能保持不变
- **类型安全**：TypeScript 类型覆盖所有修改

## 预期效果

### 优化前
- 扁平化列表布局
- 原生 select 下拉框
- 无搜索功能
- 基础样式

### 优化后
- ✨ 卡片式分组布局
- ✨ RadioGroup 直观选择
- ✨ 实时搜索过滤
- ✨ 平滑动画效果
- ✨ 统一主题色 #3388BB
- ✨ Material Design 风格

---

## 项目状态

**⏳ 设置页面优化 v0.2 待开始**

**目标成果**：
- 🎨 现代化卡片式布局
- 🔧 统一 HeroUI v3 组件体系
- 🔍 高效搜索功能
- ✨ 平滑动画效果
- 🎯 Material Design 风格

---

*创建时间: 2025-11-06*
*版本: v0.2*
*状态: ⏳ 待开始*
